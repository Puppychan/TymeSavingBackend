"use strict";(()=>{var e={};e.id=146,e.ids=[146],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2757:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g});var n={};r.r(n),r.d(n,{POST:()=>d});var s=r(9303),i=r(8716),a=r(670),o=r(7070),u=r(2333),p=r(1732);let d=async e=>{try{await (0,u.q)();let{username:t,password:r}=await e.json();if(!await p.Z.findOne({username:t},{password:r}))return new o.NextResponse(JSON.stringify("Login credentials invalid"),{status:404});return new o.NextResponse(JSON.stringify("Login successfully"),{status:200})}catch(e){return new o.NextResponse(e.message,{status:500})}},c=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/user/signin/route",pathname:"/api/user/signin",filename:"route",bundlePath:"app/api/user/signin/route"},resolvedPagePath:"/Users/toranashitanhung/Documents/CapstoneNIGroup/TymeSavingBackend/app/api/user/signin/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:g,serverHooks:m}=c,y="/api/user/signin/route";function h(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}},2333:(e,t,r)=>{r.d(t,{q:()=>a});var n=r(1185),s=r.n(n);let i=!1,a=async()=>{let e=process.env.MONGODB_URI||"";if(s().set("strictQuery",!0),i){console.log("MongoDB already connected");return}try{await s().connect(e,{}),i=!0,console.log("MongoDB connected")}catch(e){console.log(e)}}},1732:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(1185),s=r.n(n);let i=new n.Schema({username:{type:String,required:!0,unique:!0},user_phone:{type:String,required:!0,unique:!0},user_email:{type:String,required:!0},user_password:{type:String,required:!0},role:{type:String,required:!0,default:"customer"},bankAccounts:{type:[n.Schema.Types.Mixed],default:[]},user_points:{type:[n.Schema.Types.Mixed],default:[]}}),a=s().models.User||s().model("User",i)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,972],()=>r(2757));module.exports=n})();