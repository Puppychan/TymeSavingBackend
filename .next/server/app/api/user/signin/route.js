"use strict";(()=>{var e={};e.id=146,e.ids=[146],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8623:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>y,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g});var n={};t.r(n),t.d(n,{POST:()=>d});var s=t(9303),i=t(8716),a=t(670),o=t(7070),u=t(5921),p=t(3330);let d=async e=>{try{await (0,u.q)();let{username:r,password:t}=await e.json();if(!await p.Z.findOne({username:r},{password:t}))return new o.NextResponse(JSON.stringify("Login credentials invalid"),{status:404});return new o.NextResponse(JSON.stringify("Login successfully"),{status:200})}catch(e){return new o.NextResponse(e.message,{status:500})}},c=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/user/signin/route",pathname:"/api/user/signin",filename:"route",bundlePath:"app/api/user/signin/route"},resolvedPagePath:"/Users/toranashitanhung/Documents/CapstoneNIGroup/TymeSavingBackend/src/app/api/user/signin/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:g,serverHooks:m}=c,y="/api/user/signin/route";function h(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}},5921:(e,r,t)=>{t.d(r,{q:()=>a});var n=t(1185),s=t.n(n);let i=!1,a=async()=>{let e=process.env.MONGODB_URI||"";if(s().set("strictQuery",!0),i){console.log("MongoDB already connected");return}try{await s().connect(e,{}),i=!0,console.log("MongoDB connected")}catch(e){console.log(e)}}},3330:(e,r,t)=>{t.d(r,{Z:()=>a});var n=t(1185),s=t.n(n);let i=new n.Schema({username:{type:String,required:!0,unique:!0},user_phone:{type:String,required:!0,unique:!0},user_email:{type:String,required:!0},user_password:{type:String,required:!0},role:{type:String,required:!0,default:"customer"},bankAccounts:{type:[n.Schema.Types.Mixed],default:[]},user_points:{type:[n.Schema.Types.Mixed],default:[]}}),a=s().models.User||s().model("User",i)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[948,972],()=>t(8623));module.exports=n})();