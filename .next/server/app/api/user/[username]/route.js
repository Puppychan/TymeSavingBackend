"use strict";(()=>{var e={};e.id=242,e.ids=[242],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8102:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>y,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var n={};t.r(n),t.d(n,{GET:()=>d});var s=t(9303),a=t(8716),u=t(670),o=t(7070),i=t(2333),p=t(1732);let d=async(e,{params:r})=>{try{await (0,i.q)();let e=await p.Z.findOne({username:r.username});if(!e)return new o.NextResponse(JSON.stringify("User not found"),{status:404});return new o.NextResponse(JSON.stringify(e),{status:200})}catch(e){return new o.NextResponse(e.message,{status:500})}},c=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/user/[username]/route",pathname:"/api/user/[username]",filename:"route",bundlePath:"app/api/user/[username]/route"},resolvedPagePath:"/Users/toranashitanhung/Documents/CapstoneNIGroup/TymeSavingBackend/app/api/user/[username]/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g}=c,y="/api/user/[username]/route";function h(){return(0,u.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},2333:(e,r,t)=>{t.d(r,{q:()=>u});var n=t(1185),s=t.n(n);let a=!1,u=async()=>{let e=process.env.MONGODB_URI||"";if(s().set("strictQuery",!0),a){console.log("MongoDB already connected");return}try{await s().connect(e,{}),a=!0,console.log("MongoDB connected")}catch(e){console.log(e)}}},1732:(e,r,t)=>{t.d(r,{Z:()=>u});var n=t(1185),s=t.n(n);let a=new n.Schema({username:{type:String,required:!0,unique:!0},user_phone:{type:String,required:!0,unique:!0},user_email:{type:String,required:!0},user_password:{type:String,required:!0},role:{type:String,required:!0,default:"customer"},bankAccounts:{type:[n.Schema.Types.Mixed],default:[]},user_points:{type:[n.Schema.Types.Mixed],default:[]}}),u=s().models.User||s().model("User",a)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[948,972],()=>t(8102));module.exports=n})();